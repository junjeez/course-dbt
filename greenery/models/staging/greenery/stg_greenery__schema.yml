version: 2

models:
  - name: stg_greenery__users
    description: "Staging version of the users table. Users who have made orders on our website."
    columns:
      - name: user_guid
        description: "The primary key for users."
        tests:
          - unique
          - not_null
      - name: first_name
      - name: last_name
      - name: email
      - name: phone_number
      - name: address_id
        description: "Joins to stg_greenery__addresses table." 
      - name: created_at_utc
        description: "Records are in UTC time zone."
      - name: updated_at_utc
        description: "Records are in UTC time zone."
      

  - name: stg_greenery__events
    description: "Staging version of the events table. Instances of people making orders on our website."
    columns:
      - name: event_guid
        description: "The primary key for events."
        tests:
          - unique
          - not_null
      - name: session_id
      - name: user_id 
        description: "Joins to stg_greenery__users table."
      - name: page_url
      - name: event_type
      - name: order_id
        description: "Joins to stg_greenery__orders table."
      - name: product_id
        description: "Joins to stg_greenery__products table."
      - name: created_at_utc
        description: "Records are in UTC time zone."


  - name: stg_greenery__addresses
    description: "Staging version of the addresses table. Addresses where orders should be delivered to."
    columns:
      - name: address_guid
        description: "The primary key for addresses."
        tests:
          - unique
          - not_null
      - name: street_address
      - name: zicode
      - name: state
      - name: country


  - name: stg_greenery_orders
    description: "Staging version of the orders table. Order details, including shipping information."
    columns:
      - name: order_guid
        description: "The primary key for orders."
        tests:
          - unique
          - not_null
      - name: user_id
        description: "Joins to stg_greenery__users table."
      - name: promo_id
        description: "Joins to stg_greenery__promos table."
      - name: order_cost
      - name: shipping_cost
      - name: order_total_cost
      - name: address_id
        description: "Joins to stg_greenery__addresses table."
      - name: tracking_id
      - name: shipping_service
      - name: created_at_utc
        description: "Records are in UTC time zone."
      - name: estimated_delivery_utc
        description: "Records are in UTC time zone."
      - name: delivered_at_utc
        description: "Records are in UTC time zone."
      - name: delivery_status
      

  - name: stg_greenery__products
    description: "Staging version of the products table. Product info including price and inventory."
    columns:
      - name: product_guid
        description: "The primary key for products."
        tests:
          - unique
          - not_null
      - name: product_name
      - name: product_price
      - name: product_inventory


  - name: stg_greenery__order_items
    description: "Staging version of the order_items table. Fact table connecting orders and products purchased."
    columns:
      - name: order_id
        description: "Joins to stg_greenery__orders table."
      - name: product_id
        description: "Joins to stg_greenery__products table."
      - name: quantity
        


  - name: stg_greenery__promos
    description: "Staging version of the promos table. Promotion details including whether the promo is still active."
    columns:
      - name: promo_guid
        description: "The primary key for promotions."
        tests:
          - unique
          - not_null
      - name: promo_discount
      - name: promo_status